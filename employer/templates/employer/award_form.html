{% extends 'employer/base.html' %}
{% block title %}{% if award %}–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å{% else %}–î–æ–±–∞–≤–∏—Ç—å{% endif %} –Ω–∞–≥—Ä–∞–¥—É{% endblock %}
{% block content %}
<div class="row justify-content-center">
    <div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-md-8 col-lg-6">

      <div class="card shadow-sm border-0">
        <div class="card-header bg-primary text-white">
          <h5 class="mb-0">–î–æ–±–∞–≤–∏—Ç—å –Ω–∞–≥—Ä–∞–¥—É</h5>
        </div>
        <div class="card-body">

          <form method="post" novalidate>
            {% csrf_token %}

            <div class="mb-3">
              <label for="id_type" class="form-label">–ö–∞—Ç–µ–≥–æ—Ä–∏—è –Ω–∞–≥—Ä–∞–¥—ã</label>
              {{ form.type }}
              {% if form.type.errors %}
                <div class="text-danger small">{{ form.type.errors }}</div>
              {% endif %}
            </div>

            <div class="mb-3" id="field_state_award">
              <label for="id_state_award" class="form-label">–ì–æ—Å. –Ω–∞–≥—Ä–∞–¥–∞</label>
              {{ form.state_award }}
              {% if form.state_award.errors %}
                <div class="text-danger small">{{ form.state_award.errors }}</div>
              {% endif %}
            </div>

            <div class="mb-3" id="field_honorary_title">
              <label for="id_honorary_title" class="form-label">–ü–æ—á—ë—Ç–Ω–æ–µ –∑–≤–∞–Ω–∏–µ</label>
              {{ form.honorary_title }}
              {% if form.honorary_title.errors %}
                <div class="text-danger small">{{ form.honorary_title.errors }}</div>
              {% endif %}
            </div>

            <div class="mb-3" id="field_title">
              <label for="id_title" class="form-label">–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –≤–µ–¥–æ–º—Å—Ç–≤–µ–Ω–Ω–æ–π –Ω–∞–≥—Ä–∞–¥—ã</label>
              {{ form.title }}
              {% if form.title.errors %}
                <div class="text-danger small">{{ form.title.errors }}</div>
              {% endif %}
            </div>

            <div class="mb-3">
              <label for="id_award_date" class="form-label">–î–∞—Ç–∞ –Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è</label>
              {{ form.award_date }}
              {% if form.award_date.errors %}
                <div class="text-danger small">{{ form.award_date.errors }}</div>
              {% endif %}
            </div>

            <div class="mb-3">
              <label for="id_issued_by" class="form-label">–ö–µ–º –≤—ã–¥–∞–Ω–æ</label>
              {{ form.issued_by }}
              {% if form.issued_by.errors %}
                <div class="text-danger small">{{ form.issued_by.errors }}</div>
              {% endif %}
            </div>

            <div class="mb-3">
              <label for="id_document_number" class="form-label">–ü—Ä–∏–∫–∞–∑ ‚Ññ</label>
              {{ form.document_number }}
              {% if form.document_number.errors %}
                <div class="text-danger small">{{ form.document_number.errors }}</div>
              {% endif %}
            </div>

            <div class="mb-3">
              <label for="id_description" class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ</label>
              {{ form.description }}
              {% if form.description.errors %}
                <div class="text-danger small">{{ form.description.errors }}</div>
              {% endif %}
            </div>

            <div class="d-grid">
              <button type="submit" class="btn btn-success">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </div>
          </form>

        </div>
      </div>

    </div>
  </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", function () {
    const typeField = document.getElementById("id_type");
    const stateField = document.getElementById("field_state_award");
    const honoraryField = document.getElementById("field_honorary_title");
    const titleField = document.getElementById("field_title");

    function toggleFields() {
        const value = typeField.value;

        stateField.style.display = (value === "state") ? "block" : "none";
        honoraryField.style.display = (value === "honorary") ? "block" : "none";
        titleField.style.display = (value === "department") ? "block" : "none";
    }

    typeField.addEventListener("change", toggleFields);
    toggleFields(); // –≤—ã–∑–æ–≤ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
});
</script>
</div>
{% endblock %}
